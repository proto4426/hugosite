---
title: Trying out ggthemr
author: Mark Hagemann
date: '2017-06-16'
slug: trying-out-ggthemr
categories:
  - R
tags:
  - learnbyexample
draft: true
---



<p>I want my ggplots to looke like the color palette I’ve chosen as my own (big shoutout to <a href="http://paletton.com">Paletton</a> for helping me with this). I’m going to use the ggthemr package to do this.</p>
<pre class="r"><code>devtools::install_github(&quot;cttobin/ggthemr&quot;)
library(ggthemr)

?ggthemr::define_palette
?ggthemr_palette
?ggthemr</code></pre>
<p>OK I think I’m getting this. My colors are as follows:</p>
<pre class="r"><code>mypal &lt;- read.csv(&quot;~/Pictures/brand/palette_lighter.csv&quot;, 
                  stringsAsFactors = FALSE)


difs &lt;- cumsum(rep(c(120, 150, 150), 4))
angs &lt;- (210 + c(0, difs)) %% 360
angs &lt;- unique(angs)
# angs &lt;- seq(from = 210, by = 120, length.out = 13) %% 360
ords &lt;- match(angs, mypal$angle)

myswatch &lt;- c(&quot;#7d7d7d&quot;, mypal$darkest[ords])
barplot(rep(1, length(myswatch)), col = myswatch)
barplot(rep(1, 2), col = mypal$darkest[c(1, 3)])

ggpal1 &lt;- ggthemr_palette(swatch = myswatch,
                          gradient = mypal$darkest[c(1, 3)],
                          # background = mypal$lightest[1],
                          background = &quot;#ffffff&quot;,
                          line = c(&quot;#6e6e6e&quot;, &quot;#6e6e6e&quot;), gridline = &quot;#c3c3c3&quot;)</code></pre>
<pre class="r"><code>?ggthemr
mytheme &lt;- ggthemr(ggpal1, set_theme = FALSE)
# ggthemr(ggpal1)

ggplot(diamonds, aes(x=carat, y=price, color=clarity)) + 
  geom_point() +
  mytheme$theme +
  mytheme$scales$scale_colour_discrete()</code></pre>
<p>Actually I think I need to be more deliberate about choosing a color scale (swatch).</p>
<p>I’m going to try using the colorspace package to do this.</p>
<p>I want my workflow to be:</p>
<ol style="list-style-type: decimal">
<li>Choose a color, possibly as a 6-digit hex.</li>
<li>Convert to hsl/hsv</li>
<li>Select colors from different angles (hues) of the current saturation and lightness.</li>
<li>Return a swatch with these colors.</li>
</ol>
<pre class="r"><code>library(colorspace)

colorspace::choose_palette()
myrgb &lt;- colorspace::hex2RGB(mypal$darkest[1])
as(myrgb, &quot;polarLUV&quot;)</code></pre>
<p>Actually, after reading some on SO about this, it seems that</p>
<ul>
<li><a href="https://stackoverflow.com/a/1168411/3700000">colors should actually be relatively close to each other in color space</a></li>
<li></li>
</ul>
